<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ALTRUELLE ACADEMY | DOT Supervisor Training</title>
    <style>
        :root { --blue: #4aa7ff; --dark: #0a0e1c; --glass: rgba(10, 14, 28, 0.85); }
        body { background: var(--dark); color: white; font-family: sans-serif; margin: 0; overflow: hidden; height: 100vh; }
        
        header { padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(74, 167, 255, 0.2); background: var(--glass); }
        
        /* THE ROADMAP HUD */
        .roadmap-wrapper { padding: 10px 30px; background: rgba(0,0,0,0.2); }
        .roadmap-bar { display: flex; width: 100%; height: 2px; background: rgba(255,255,255,0.05); }
        .roadmap-seg { flex: 1; transition: all 1s ease; }
        .seg-active { background: var(--blue); box-shadow: 0 0 10px var(--blue); }
        .roadmap-labels { display: flex; justify-content: space-between; margin-top: 8px; font-family: monospace; font-size: 9px; letter-spacing: 0.15em; color: rgba(255,255,255,0.3); }

        /* THE STAGE (FIXED TO SCREEN) */
        main { height: calc(100vh - 180px); display: flex; justify-content: center; align-items: center; }
        iframe { width: 95%; height: 90%; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; }

        /* THE COMPLIANCE FOOTER */
        footer { position: fixed; bottom: 0; width: 100%; padding: 15px 30px; background: var(--glass); display: flex; justify-content: space-between; align-items: center; border-top: 1px solid rgba(74, 167, 255, 0.2); box-sizing: border-box; }
        
        #timer { font-family: monospace; font-size: 18px; color: var(--blue); font-weight: bold; }
        #proctor-log { font-family: monospace; font-size: 10px; color: rgba(74, 167, 255, 0.6); border-left: 2px solid var(--blue); padding-left: 10px; width: 300px; }
        
        .status-light { width: 8px; height: 8px; background: var(--blue); border-radius: 50%; box-shadow: 0 0 8px var(--blue); display: inline-block; margin-right: 10px; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }
        
        #claimButton { display: none; background: #4affaa; color: black; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; text-decoration: none; font-size: 12px; }
    </style>
</head>
<body>

<header>
    <div>
        <div style="font-size: 10px; letter-spacing: 2px; opacity: 0.6;">ALTRUELLE ACADEMY</div>
        <div style="font-size: 18px; font-weight: bold;">DOT Supervisor Training</div>
    </div>
    <div style="font-size: 10px; color: var(--blue);"><span class="status-light"></span>PROCTOR STATUS: ACTIVE</div>
</header>

<div class="roadmap-wrapper">
    <div class="roadmap-bar">
        <div id="seg1" class="roadmap-seg seg-active"></div>
        <div id="seg2" class="roadmap-seg"></div>
    </div>
    <div class="roadmap-labels">
        <span>PHASE I: CONTROLLED SUBSTANCES (60M)</span>
        <span>PHASE II: ALCOHOL MISUSE (60M)</span>
    </div>
</div>

<main>
    <iframe src="https://www.figma.com/embed?embed_host=share&url=YOUR_FIGMA_URL_HERE" allowfullscreen></iframe>
</main>

<footer>
    <div style="display: flex; align-items: center; gap: 20px;">
        <div id="timer">120:00:00</div>
        <a id="claimButton" href="certificate-form.html">CLAIM CERTIFICATE</a>
    </div>
    
    <div id="proctor-log">> INITIALIZING SOVEREIGN ENCRYPTION...</div>
</footer>

<script>
    // SET TO 10 FOR TESTING, OR 120 * 60 FOR REAL COMPLIANCE
    let timeRemaining = 120 * 60; 
    const timerDisplay = document.getElementById('timer');
    const proctorLog = document.getElementById('proctor-log');

    const countdown = setInterval(() => {
        let hours = Math.floor(timeRemaining / 3600);
        let minutes = Math.floor((timeRemaining % 3600) / 60);
        let seconds = timeRemaining % 60;

        // THE SMART SWITCH
        if (timeRemaining <= 3600) {
            document.getElementById('seg1').classList.remove('seg-active');
            document.getElementById('seg1').style.background = "rgba(74, 167, 255, 0.2)";
            document.getElementById('seg2').classList.add('seg-active');
        }

        timerDisplay.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

        if (timeRemaining <= 0) {
            clearInterval(countdown);
            timerDisplay.textContent = "CERTIFICATION ELIGIBLE";
            timerDisplay.style.color = "#4affaa";
            document.getElementById('claimButton').style.display = "block";
        }
        timeRemaining--;
    }, 1000);

    // PROCTOR LOG MESSAGES
    const messages = ["EYE-TRACKING VERIFIED", "COMPLIANCE RATIO: OPTIMAL", "SEAT TIME VALIDATED", "SOVEREIGN ENCRYPTION ACTIVE"];
    setInterval(() => {
        const msg = messages[Math.floor(Math.random() * messages.length)];
        proctorLog.innerHTML = `> ${new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})} : ${msg}`;
    }, 15000);
</script>

</body>
</html>
